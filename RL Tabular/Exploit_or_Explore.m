function [csA,Action]=Exploit_or_Explore(Q_SARSA,cs,IdxCombinationofActionsinStateS,epsilon)

  if rand()>epsilon % exploitation e.g. epsilon=0.1 we have 90% exploitation
            csA= find(Q_SARSA(cs,:)==max(Q_SARSA(cs,IdxCombinationofActionsinStateS{cs})),1); % search the maximum among available actions
            Action=find(IdxCombinationofActionsinStateS{cs}==csA);
            if isempty(Action); %  if this state has not been explored, take a random action among the available
                Action=randi([1 length(IdxCombinationofActionsinStateS{cs})]);
                csA=IdxCombinationofActionsinStateS{cs}(Action);
            end
        else    % exploration  e.g. epsilon=0.1 we have 10% exploration
            Action=randi([1 length(IdxCombinationofActionsinStateS{cs})]);
            csA=IdxCombinationofActionsinStateS{cs}(Action);
  end
        
end